# nodejs事件循环
> nodejs在主线程中维护一个事件队列，有请求就将请求作为一个时间放入这个队列中，，继续接收其他请求。
> 当主线程空闲时，就开始循环事件队列，检查是否有要处理的事件
  + 如果是I/O任务，就从线程池中拿出一个线程来处理，并指定回调函数。当线程中的I/O任务完成以后，就执行回调函数，并把完成的事件放到事件队列的尾部，等待事件循环。
  + 如果是非I/O任务，就亲自处理，通过回调函数返回到上层调用。

# nodejs应用分为四层
+ 应用层: 即JS交互层，如Nodejs模块，fs,http
+ v8引擎层: 利用V8引擎解析JS语法，进而和下层API交互
+ NODE API层: 为上层模块提供系统调用，一般由C语言实现，和操作系统进行交互。
+ LIBUV层: 是夸平台的底层风套装，实现了事件循环，文件操作等，是NodeJs实现异步的核心、

# nodejs适用场景
+ nodejs适合处理I/O密集型任务，因为他会把I/O任务分配给其他的线程去处理
+ nodejs不适合处理cpu密集型的任务，因为nodejs会在主线程上亲自处理这些。如数据加解密，数据压缩解压等。